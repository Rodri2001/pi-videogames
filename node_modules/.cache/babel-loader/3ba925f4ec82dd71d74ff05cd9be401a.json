{"ast":null,"code":"import { GET_VIDEOGAMES, GET_VIDEOGAME_BY_ID, GET_VIDEOGAMES_BY_NAME, GET_GENRES, GET_VIDEOGAMES_FILTER, FILTER_BY_GENRE, FILTER } from '../reduxConstants';\nconst initialState = {\n  videogame: {},\n  videogames: [],\n  genres: [],\n  filter: []\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (action.type === GET_VIDEOGAMES) {\n    return { ...state,\n      videogames: action.payload\n    };\n  }\n\n  if (action.type === GET_GENRES) {\n    return { ...state,\n      genres: action.payload\n    };\n  }\n\n  if (action.type === GET_VIDEOGAME_BY_ID) {\n    return { ...state,\n      videogame: action.payload\n    };\n  }\n\n  if (action.type === GET_VIDEOGAMES_BY_NAME) {\n    return { ...state,\n      videogames: action.payload\n    };\n  } // if (action.type === FILTER_BY_GENRE) {\n  //     let videogamesGenre;\n  //     if (action.payload === \"All\") {\n  //         videogamesGenre = state.videogames\n  //     } else {\n  //         videogamesGenre = state.videogames.filter(g => g.genres.includes(action.payload))\n  //     }\n  //     return {\n  //         ...state,\n  //         filter: [...videogamesGenre]\n  //     }\n  // }\n\n\n  if (action.type === FILTER) {\n    let check = state.videogames;\n    console.log(check, \"check\");\n\n    if (!state.videogames || action.payload === \"all\") {\n      check = state.videogames;\n    } else if (action.payload === \"API\") {\n      check = check.filter(v => typeof v.id === \"number\");\n    } else if (action.payload === \"CREATED\") {\n      check = check.filter(v => typeof v.id !== \"number\");\n    } else {\n      check = check.filter(v => v.genres.includes(action.payload));\n    }\n\n    return { ...state,\n      videogames: check\n    };\n  }\n\n  return state;\n}","map":{"version":3,"names":["GET_VIDEOGAMES","GET_VIDEOGAME_BY_ID","GET_VIDEOGAMES_BY_NAME","GET_GENRES","GET_VIDEOGAMES_FILTER","FILTER_BY_GENRE","FILTER","initialState","videogame","videogames","genres","filter","rootReducer","state","action","type","payload","check","console","log","v","id","includes"],"sources":["C:/Users/Cami/Desktop/PI-Videogames-main/PI-Videogames-main/client/src/redux/reducers/index.js"],"sourcesContent":["import { GET_VIDEOGAMES, GET_VIDEOGAME_BY_ID, GET_VIDEOGAMES_BY_NAME, GET_GENRES, GET_VIDEOGAMES_FILTER, FILTER_BY_GENRE, FILTER } from '../reduxConstants';\r\n\r\nconst initialState = {\r\n    videogame: {},\r\n    videogames: [],\r\n    genres: [],\r\n    filter: []\r\n};\r\n\r\nexport default function rootReducer(state = initialState, action) {\r\n\r\n    if (action.type === GET_VIDEOGAMES) {\r\n        return {\r\n            ...state,\r\n            videogames: action.payload\r\n        }\r\n    }\r\n\r\n    if (action.type === GET_GENRES) {\r\n        return {\r\n            ...state,\r\n            genres: action.payload\r\n        }\r\n    }\r\n\r\n    if (action.type === GET_VIDEOGAME_BY_ID) {\r\n        return {\r\n            ...state,\r\n            videogame: action.payload\r\n        }\r\n    }\r\n\r\n    if (action.type === GET_VIDEOGAMES_BY_NAME) {\r\n        return {\r\n            ...state,\r\n            videogames: action.payload\r\n        }\r\n    }\r\n\r\n    // if (action.type === FILTER_BY_GENRE) {\r\n    //     let videogamesGenre;\r\n        \r\n    //     if (action.payload === \"All\") {\r\n    //         videogamesGenre = state.videogames\r\n    //     } else {\r\n    //         videogamesGenre = state.videogames.filter(g => g.genres.includes(action.payload))\r\n    //     }\r\n\r\n    //     return {\r\n    //         ...state,\r\n    //         filter: [...videogamesGenre]\r\n    //     }\r\n    // }\r\n\r\n    if (action.type === FILTER) {\r\n        let check = state.videogames;\r\n        console.log(check, \"check\")\r\n        if(!state.videogames || action.payload === \"all\"){\r\n            check = state.videogames\r\n        } else if(action.payload === \"API\"){\r\n            check = check.filter(v => typeof v.id === \"number\")\r\n        } else if (action.payload === \"CREATED\") {\r\n            check = check.filter(v => typeof v.id !== \"number\")\r\n        } else {\r\n            check = check.filter(v => v.genres.includes(action.payload))\r\n        }\r\n        return {\r\n            ...state,\r\n            videogames: check\r\n        }\r\n    }\r\n\r\n    return state\r\n}"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,mBAAzB,EAA8CC,sBAA9C,EAAsEC,UAAtE,EAAkFC,qBAAlF,EAAyGC,eAAzG,EAA0HC,MAA1H,QAAwI,mBAAxI;AAEA,MAAMC,YAAY,GAAG;EACjBC,SAAS,EAAE,EADM;EAEjBC,UAAU,EAAE,EAFK;EAGjBC,MAAM,EAAE,EAHS;EAIjBC,MAAM,EAAE;AAJS,CAArB;AAOA,eAAe,SAASC,WAAT,GAAmD;EAAA,IAA9BC,KAA8B,uEAAtBN,YAAsB;EAAA,IAARO,MAAQ;;EAE9D,IAAIA,MAAM,CAACC,IAAP,KAAgBf,cAApB,EAAoC;IAChC,OAAO,EACH,GAAGa,KADA;MAEHJ,UAAU,EAAEK,MAAM,CAACE;IAFhB,CAAP;EAIH;;EAED,IAAIF,MAAM,CAACC,IAAP,KAAgBZ,UAApB,EAAgC;IAC5B,OAAO,EACH,GAAGU,KADA;MAEHH,MAAM,EAAEI,MAAM,CAACE;IAFZ,CAAP;EAIH;;EAED,IAAIF,MAAM,CAACC,IAAP,KAAgBd,mBAApB,EAAyC;IACrC,OAAO,EACH,GAAGY,KADA;MAEHL,SAAS,EAAEM,MAAM,CAACE;IAFf,CAAP;EAIH;;EAED,IAAIF,MAAM,CAACC,IAAP,KAAgBb,sBAApB,EAA4C;IACxC,OAAO,EACH,GAAGW,KADA;MAEHJ,UAAU,EAAEK,MAAM,CAACE;IAFhB,CAAP;EAIH,CA5B6D,CA8B9D;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;;;EAEA,IAAIF,MAAM,CAACC,IAAP,KAAgBT,MAApB,EAA4B;IACxB,IAAIW,KAAK,GAAGJ,KAAK,CAACJ,UAAlB;IACAS,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmB,OAAnB;;IACA,IAAG,CAACJ,KAAK,CAACJ,UAAP,IAAqBK,MAAM,CAACE,OAAP,KAAmB,KAA3C,EAAiD;MAC7CC,KAAK,GAAGJ,KAAK,CAACJ,UAAd;IACH,CAFD,MAEO,IAAGK,MAAM,CAACE,OAAP,KAAmB,KAAtB,EAA4B;MAC/BC,KAAK,GAAGA,KAAK,CAACN,MAAN,CAAaS,CAAC,IAAI,OAAOA,CAAC,CAACC,EAAT,KAAgB,QAAlC,CAAR;IACH,CAFM,MAEA,IAAIP,MAAM,CAACE,OAAP,KAAmB,SAAvB,EAAkC;MACrCC,KAAK,GAAGA,KAAK,CAACN,MAAN,CAAaS,CAAC,IAAI,OAAOA,CAAC,CAACC,EAAT,KAAgB,QAAlC,CAAR;IACH,CAFM,MAEA;MACHJ,KAAK,GAAGA,KAAK,CAACN,MAAN,CAAaS,CAAC,IAAIA,CAAC,CAACV,MAAF,CAASY,QAAT,CAAkBR,MAAM,CAACE,OAAzB,CAAlB,CAAR;IACH;;IACD,OAAO,EACH,GAAGH,KADA;MAEHJ,UAAU,EAAEQ;IAFT,CAAP;EAIH;;EAED,OAAOJ,KAAP;AACH"},"metadata":{},"sourceType":"module"}